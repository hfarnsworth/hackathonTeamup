{"ast":null,"code":"const API = \"http://localhost:3000/\";\nconst teamsAPI = API + \"teams/\";\n\nconst loadTeams = teams => ({\n  type: \"LOAD_TEAMS\",\n  teams\n});\n\nconst addTeam = team => ({\n  type: \"ADD_TEAM\",\n  team\n});\n\nconst removeTeam = team => ({\n  type: \"DELETE_TEAM\",\n  team\n});\n\nconst removeTeamFromCollaborators = team => ({\n  type: \"DELETE_TEAM_FROM_COLLABORATORS\",\n  team\n});\n\nexport const fetchTeams = () => {\n  return dispatch => {\n    return fetch(teamsAPI).then(resp => resp.json()).then(teams => dispatch(loadTeams(teams)));\n  };\n};\nexport const createTeam = (team, history) => {\n  return dispatch => {\n    const body = {\n      team\n    };\n    return fetch(teamsAPI, {\n      method: \"POST\",\n      headers: {\n        \"Content-Type\": \"application/json\",\n        \"Accept\": \"application/json\"\n      },\n      body: JSON.stringify(body)\n    }).then(r => r.json()).then(newTeam => {\n      if (!newTeam.id) {\n        alert(JSON.stringify(newTeam));\n      } else {\n        dispatch(addTeam({ ...newTeam,\n          collaborators: []\n        }));\n        history.push('/teams');\n      }\n    });\n  };\n};\nexport const deleteTeam = team => {\n  return dispatch => {\n    return fetch(teamsAPI + team.id, {\n      method: \"DELETE\"\n    }).then(dispatch(removeTeam(team))).then(dispatch(removeTeamFromCollaborators(team)));\n  };\n};","map":{"version":3,"sources":["/Users/mymac/Development/code/hackathon-teamup/hackathon-teamup-frontend/src/actions/teams.js"],"names":["API","teamsAPI","loadTeams","teams","type","addTeam","team","removeTeam","removeTeamFromCollaborators","fetchTeams","dispatch","fetch","then","resp","json","createTeam","history","body","method","headers","JSON","stringify","r","newTeam","id","alert","collaborators","push","deleteTeam"],"mappings":"AAAA,MAAMA,GAAG,GAAG,wBAAZ;AACA,MAAMC,QAAQ,GAAGD,GAAG,GAAG,QAAvB;;AAEA,MAAME,SAAS,GAAGC,KAAK,KAAK;AAAEC,EAAAA,IAAI,EAAE,YAAR;AAAsBD,EAAAA;AAAtB,CAAL,CAAvB;;AAEA,MAAME,OAAO,GAAGC,IAAI,KAAK;AAAEF,EAAAA,IAAI,EAAE,UAAR;AAAoBE,EAAAA;AAApB,CAAL,CAApB;;AAEA,MAAMC,UAAU,GAAGD,IAAI,KAAK;AAAEF,EAAAA,IAAI,EAAE,aAAR;AAAuBE,EAAAA;AAAvB,CAAL,CAAvB;;AAEA,MAAME,2BAA2B,GAAGF,IAAI,KAAK;AAACF,EAAAA,IAAI,EAAE,gCAAP;AAAyCE,EAAAA;AAAzC,CAAL,CAAxC;;AAEA,OAAO,MAAMG,UAAU,GAAG,MAAM;AAC9B,SAAOC,QAAQ,IAAI;AACjB,WAAOC,KAAK,CAACV,QAAD,CAAL,CACJW,IADI,CACCC,IAAI,IAAIA,IAAI,CAACC,IAAL,EADT,EAEJF,IAFI,CAECT,KAAK,IACTO,QAAQ,CAACR,SAAS,CAACC,KAAD,CAAV,CAHL,CAAP;AAKD,GAND;AAOD,CARM;AAUP,OAAO,MAAMY,UAAU,GAAG,CAACT,IAAD,EAAMU,OAAN,KAAkB;AAC1C,SAAON,QAAQ,IAAI;AACjB,UAAMO,IAAI,GAAG;AACXX,MAAAA;AADW,KAAb;AAGA,WAAOK,KAAK,CAACV,QAAD,EAAW;AACrBiB,MAAAA,MAAM,EAAE,MADa;AAErBC,MAAAA,OAAO,EAAE;AACP,wBAAgB,kBADT;AAEP,kBAAU;AAFH,OAFY;AAMrBF,MAAAA,IAAI,EAAEG,IAAI,CAACC,SAAL,CAAeJ,IAAf;AANe,KAAX,CAAL,CAQJL,IARI,CAQCU,CAAC,IAAIA,CAAC,CAACR,IAAF,EARN,EASJF,IATI,CASCW,OAAO,IAAI;AACf,UAAI,CAACA,OAAO,CAACC,EAAb,EAAiB;AACfC,QAAAA,KAAK,CAACL,IAAI,CAACC,SAAL,CAAeE,OAAf,CAAD,CAAL;AACD,OAFD,MAEO;AACLb,QAAAA,QAAQ,CAACL,OAAO,CAAC,EACf,GAAGkB,OADY;AAEfG,UAAAA,aAAa,EAAE;AAFA,SAAD,CAAR,CAAR;AAIAV,QAAAA,OAAO,CAACW,IAAR,CAAa,QAAb;AACD;AACF,KAnBI,CAAP;AAoBD,GAxBD;AAyBD,CA1BM;AA4BP,OAAO,MAAMC,UAAU,GAAGtB,IAAI,IAAI;AAChC,SAAOI,QAAQ,IAAI;AACjB,WAAOC,KAAK,CAACV,QAAQ,GAAGK,IAAI,CAACkB,EAAjB,EAAqB;AAC/BN,MAAAA,MAAM,EAAE;AADuB,KAArB,CAAL,CAGNN,IAHM,CAGDF,QAAQ,CAACH,UAAU,CAACD,IAAD,CAAX,CAHP,EAINM,IAJM,CAIDF,QAAQ,CAACF,2BAA2B,CAACF,IAAD,CAA5B,CAJP,CAAP;AAKD,GAND;AAOD,CARM","sourcesContent":["const API = \"http://localhost:3000/\"\nconst teamsAPI = API + \"teams/\"\n\nconst loadTeams = teams => ({ type: \"LOAD_TEAMS\", teams })\n\nconst addTeam = team => ({ type: \"ADD_TEAM\", team })\n\nconst removeTeam = team => ({ type: \"DELETE_TEAM\", team })\n\nconst removeTeamFromCollaborators = team => ({type: \"DELETE_TEAM_FROM_COLLABORATORS\", team })\n\nexport const fetchTeams = () => {\n  return dispatch => {\n    return fetch(teamsAPI)\n      .then(resp => resp.json())\n      .then(teams => \n        dispatch(loadTeams(teams))\n      )\n  }\n}\n\nexport const createTeam = (team,history) => {\n  return dispatch => {\n    const body = {\n      team\n    }\n    return fetch(teamsAPI, {\n      method: \"POST\",\n      headers: {\n        \"Content-Type\": \"application/json\",\n        \"Accept\": \"application/json\"\n      },\n      body: JSON.stringify(body)\n    })\n      .then(r => r.json())\n      .then(newTeam => {\n        if (!newTeam.id) {\n          alert(JSON.stringify(newTeam))\n        } else {\n          dispatch(addTeam({\n            ...newTeam,\n            collaborators: []\n          }))\n          history.push('/teams')\n        }\n      })\n  }\n}\n\nexport const deleteTeam = team => {\n  return dispatch => {\n    return fetch(teamsAPI + team.id, {\n      method: \"DELETE\"\n    })\n    .then(dispatch(removeTeam(team)))\n    .then(dispatch(removeTeamFromCollaborators(team)))\n  }\n}"]},"metadata":{},"sourceType":"module"}